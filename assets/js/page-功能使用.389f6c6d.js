(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{462:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"功能使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#功能使用"}},[s._v("#")]),s._v(" 功能使用")]),s._v(" "),a("h2",{attrs:{id:"多应用-多版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多应用-多版本"}},[s._v("#")]),s._v(" 多应用/多版本")]),s._v(" "),a("blockquote",[a("p",[s._v(">=2.1.0版本")])]),s._v(" "),a("p",[s._v("由于在各种项目开发中，有多种情况，如"),a("code",[s._v("单应用多版本")]),s._v("、"),a("code",[s._v("多应用无版本")]),s._v("、"),a("code",[s._v("多应用多版本")]),s._v("等开发场景与项目目录，所以将多应用/多版本统一在"),a("code",[s._v("apps")]),s._v("中配置实现。")]),s._v(" "),a("h4",{attrs:{id:"举例一个多应用多版本的实现"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#举例一个多应用多版本的实现"}},[s._v("#")]),s._v(" 举例一个多应用多版本的实现：")]),s._v(" "),a("p",[s._v("假设一个admin应用无版本，demo应用有多个版本，其项目项目目录如下")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("app\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— admin\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— controller\n       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— Index.php\n       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— route\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— demo\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— controller\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— v1\n            BaseDemo.php\n            CrudDemo.php\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— v2\n            BaseDemo.php\n            CrudDemo.php\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— model\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("p",[s._v("在配置文件"),a("code",[s._v("/config/apidoc.php")]),s._v("中的 apps 参数中配置如下")]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'apps'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'title'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'后台管理'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'app\\admin\\controller'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'folder'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'admin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'title'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'演示示例'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'folder'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'demo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'items'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'title'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'V1.0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'app\\demo\\controller\\v1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'folder'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'v1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'title'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'V2.0'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'app\\demo\\controller\\v2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'folder'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'v2'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("得到如下效果")]),s._v(" "),a("p",[a("img",{attrs:{src:"/thinkphp-apidoc/images/apidoc-demo-apps.png",alt:"apidoc-demo-apps",title:"apidoc-demo-apps"}})]),s._v(" "),a("h2",{attrs:{id:"控制器分组"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#控制器分组"}},[s._v("#")]),s._v(" 控制器分组")]),s._v(" "),a("p",[s._v("可通过控制器分组实现将多模块的控制器进行分组")]),s._v(" "),a("p",[s._v("1、配置文件"),a("code",[s._v("/config/apidoc.php")]),s._v("中的 groups 配置分组列表：")]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /config/apidoc.php")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//设置控制器分组")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'groups'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'title'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'基础模块'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'name'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'base'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'title'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'示例模块'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'name'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'demo'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("2、在对应控制器注释中，加入 "),a("code",[s._v("@group")]),s._v(" 来指定该控制器所属分类的 name")]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("namespace")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[s._v("app"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("controller")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[s._v("hg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("apidoc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("annotation")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" Apidoc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v('/**\n * @Apidoc\\Title("基础示例")\n * @Apidoc\\Group("base")\n */')]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ApiDocTest")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"密码验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#密码验证"}},[s._v("#")]),s._v(" 密码验证")]),s._v(" "),a("p",[s._v("配置文件"),a("code",[s._v("/config/apidoc.php")]),s._v("中的 auth 设置如下，即可在访问文档页面时需输入密码访问：")]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /config/apidoc.php")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 权限认证配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'auth'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 是否启用密码验证")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'enable'")]),s._v("     "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 验证密码")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'password'")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"123456"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 密码加密盐")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'secret_key'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"apidoc#hg_code"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h2",{attrs:{id:"文档缓存"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文档缓存"}},[s._v("#")]),s._v(" 文档缓存")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("建议")]),s._v(" "),a("p",[s._v("开发环境中关闭缓存，可方便实时修改查看效果，提升开发效率。正式发布后可开启。")])]),s._v(" "),a("p",[s._v("开启缓存后，每次访问接口文档则直接使用缓存数据展示文档，大大提升访问速度，也可在页面右上角切换历史文档。\n但当修改了接口注释后，需手动点击接口文档页面右上角的 "),a("code",[s._v("ReLoad")]),s._v(" 按钮生成新的文档数据。")]),s._v(" "),a("p",[s._v("配置文件"),a("code",[s._v("/config/apidoc.php")]),s._v("中的"),a("code",[s._v("cache")]),s._v("设置为如下：")]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /config/apidoc.php")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 缓存配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'cache'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 是否开启缓存")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'enable'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 缓存文件路径")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'path'")]),s._v("   "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'../runtime/apidoc/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 是否显示更新缓存按钮")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'reload'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 最大缓存文件数")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'max'")]),s._v("    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//最大缓存数量")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("缓存的文件默认生成在 "),a("code",[s._v("/runtime/apidoc/")]),s._v("目录下，如需删除缓存记录，可直接删除该目录下的相应文件即可")]),s._v(" "),a("h2",{attrs:{id:"markdown-文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#markdown-文档"}},[s._v("#")]),s._v(" Markdown 文档")]),s._v(" "),a("p",[s._v("1、根目录下创建"),a("code",[s._v("docs")]),s._v("（你也可以是别的）目录，并创建md文档文件，如下")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("app\nconfig\ndocs\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— Use.md\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— admin\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— HttpStatus.md\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— HttpCode.md\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— demo\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— HttpStatus.md\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— HttpCode_v1.md \n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— HttpCode_v2.md\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br")])]),a("p",[s._v("2、配置文档菜单")]),s._v(" "),a("blockquote",[a("p",[s._v("可使用 "),a("code",[s._v("${app[N].folder}")]),s._v(" 做多版本区分，变量参数用法见"),a("RouterLink",{attrs:{to:"/config/#docs"}},[s._v("配置说明")])],1)]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[s._v("// config/apidoc.php\n"),a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[s._v("<?php")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// markdown 文档")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'docs'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'menu_title'")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'开发文档'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'menus'")]),s._v("      "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'title'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'md语法示例'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'docs/Use'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'title'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'HTTP响应编码'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'items'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'title'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'status错误码说明'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'docs/${app[0].folder}/HttpStatus'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'title'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'code错误码说明'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'docs/${app[0].folder}/HttpCode_${app[1].folder}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br")])]),a("p",[a("img",{attrs:{src:"/thinkphp-apidoc/images/apidoc-demo-md.png",alt:"apidoc-demo-md",title:"apidoc-demo-md"}})]),s._v(" "),a("h2",{attrs:{id:"快速生成crud"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#快速生成crud"}},[s._v("#")]),s._v(" 快速生成CRUD")]),s._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[s._v("注意")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("DEBUG")]),s._v("模式下可用，确保站点目录有777权限")])]),s._v(" "),a("p",[s._v("快速生成CRUD功能由 系统配置+模板+可视化页面配置来实现。为了灵活适应各种项目结构与实现方式，需做好系统配置与模板编写。")]),s._v(" "),a("p",[s._v("下面将举例一个多应用多版本的实现：")]),s._v(" "),a("blockquote",[a("p",[s._v("假设一个admin应用无版本，demo应用有多个版本，其项目项目目录如下")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("app\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— admin\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— controller\n       "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— Index.php\n       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— validate\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— demo\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— controller\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— v1\n            BaseDemo.php\n            CrudDemo.php\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n        "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— v2\n            BaseDemo.php\n            CrudDemo.php\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— validate\n "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("—— model\n "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("h3",{attrs:{id:"_1、系统配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1、系统配置"}},[s._v("#")]),s._v(" 1、系统配置")]),s._v(" "),a("p",[s._v("配置文件"),a("code",[s._v("/config/apidoc.php")]),s._v("中，根据你的项目结构设置"),a("RouterLink",{attrs:{to:"/config/#crud"}},[s._v("crud参数")])],1),s._v(" "),a("blockquote",[a("p",[s._v("多应用/多版本需先配置 "),a("RouterLink",{attrs:{to:"/config/#apps"}},[s._v("apps")])],1)]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /config/apidoc.php")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'crud'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 生成控制器配置")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'controller'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'app\\${app[0].folder}\\controller\\${app[1].folder}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'template'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'../template/controller'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 自定义的文件生成配置，你也可以像这样添加更多配置项，来生成你所需的文件。当然你的项目如果很简单，没有逻辑层删除此项配置也是可以的")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'service'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'app\\${app[0].folder}\\services'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'template'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'../template/service'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 生成模型配置")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'model'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'app\\model'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'template'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'../template/model'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'default_fields'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'field'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'desc'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'唯一id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'type'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'int'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'length'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'default'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'not_null'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'main_key'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'incremental'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'validate'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'query'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'list'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'detail'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'add'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[s._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'edit'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token constant boolean"}},[s._v("true")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'fields_types'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"int"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"tinyint"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"float"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"decimal"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"char"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"varchar"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"text"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token string double-quoted-string"}},[s._v('"point"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 生成验证器文件配置")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'validate'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'app\\${app[0].folder}\\validate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'template'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'../template/validate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'rules'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'name'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'必填'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'rule'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'require'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'message'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'缺少必要参数${field}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'name'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'数字'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'rule'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'number'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'message'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'${field}字段类型为数字'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'name'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'年龄'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'rule'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'number|between:1,120'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'message'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'${field}.number'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'${field}${desc}字段类型为数字'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'${field}.between'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'${field}只能在1-120之间'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 生成路由")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'route'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'${app[0].folder}\\route\\${app[0].folder}.php'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'template'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'../template/route_${app[0].folder}'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br"),a("span",{staticClass:"line-number"},[s._v("57")]),a("br"),a("span",{staticClass:"line-number"},[s._v("58")]),a("br"),a("span",{staticClass:"line-number"},[s._v("59")]),a("br"),a("span",{staticClass:"line-number"},[s._v("60")]),a("br"),a("span",{staticClass:"line-number"},[s._v("61")]),a("br"),a("span",{staticClass:"line-number"},[s._v("62")]),a("br"),a("span",{staticClass:"line-number"},[s._v("63")]),a("br"),a("span",{staticClass:"line-number"},[s._v("64")]),a("br"),a("span",{staticClass:"line-number"},[s._v("65")]),a("br")])]),a("p",[s._v("通过如上配置，我们就可以看到页面上（搜索框后面）有一个 + 号按钮，点击弹出可视化配置窗口，如下")]),s._v(" "),a("p",[a("img",{attrs:{src:"/thinkphp-apidoc/images/apidoc-config_crud.png",alt:"apidoc-config_crud",title:"apidoc-config_crud"}})]),s._v(" "),a("h3",{attrs:{id:"_2、编写模板"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2、编写模板"}},[s._v("#")]),s._v(" 2、编写模板")]),s._v(" "),a("p",[s._v("在项目跟目录创建 "),a("code",[s._v("template")]),s._v("文件夹，并创建配置中的模板文件 "),a("code",[s._v("controller.txt")]),s._v("、"),a("code",[s._v("service.txt")]),s._v("、"),a("code",[s._v("model.txt")]),s._v("、"),a("code",[s._v("validate.txt")]),s._v("、"),a("code",[s._v("route_admn.txt")]),s._v("、"),a("code",[s._v("route_demo.txt")]),s._v("。")]),s._v(" "),a("p",[s._v("模板示例可参考 "),a("a",{attrs:{href:"https://github.com/HGthecode/thinkphp-apidoc-demo/tree/multiApp/template",target:"_blank",rel:"noopener noreferrer"}},[s._v("模板文件示例"),a("OutboundLink")],1),s._v(" ，这里就不贴出来了，这里说说如何编写模板，相信你很快就能上手。")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("要领")]),s._v(" "),a("p",[s._v("1、首先自己在项目中实现一个标准通用的Crud。")]),s._v(" "),a("p",[s._v("2、然后把这些文件内容拷贝在对应的"),a("code",[s._v(".txt")]),s._v("模板文件中。")]),s._v(" "),a("p",[s._v("3、用下表变量替换模板中的参数。")])]),s._v(" "),a("h4",{attrs:{id:"模板变量"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#模板变量"}},[s._v("#")]),s._v(" 模板变量")]),s._v(" "),a("p",[s._v("在模板中可以使用如下变量，使用方法"),a("code",[s._v("${变量名}")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("变量名")]),s._v(" "),a("th",[s._v("示例值")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("title")]),s._v(" "),a("td",[s._v("测试CRUD")]),s._v(" "),a("td",[s._v("页面填入的控制器标题")])]),s._v(" "),a("tr",[a("td",[s._v("controller.class_name")]),s._v(" "),a("td",[s._v("TestCrud")]),s._v(" "),a("td",[s._v("页面填入的控制器文件名")])]),s._v(" "),a("tr",[a("td",[s._v("controller.namespace")]),s._v(" "),a("td",[s._v("app\\admin\\controller")]),s._v(" "),a("td",[s._v("控制器命名空间")])]),s._v(" "),a("tr",[a("td",[s._v("controller.use_alias")]),s._v(" "),a("td",[s._v("TestCrudController")]),s._v(" "),a("td",[s._v("控制器别名")])]),s._v(" "),a("tr",[a("td",[s._v("controller.use_path")]),s._v(" "),a("td",[s._v("app\\admin\\controller\\TestCrud")]),s._v(" "),a("td",[s._v("控制器use地址")])]),s._v(" "),a("tr",[a("td",[s._v("list.field")]),s._v(" "),a("td",[s._v("id,name,age,sex")]),s._v(" "),a("td",[s._v("页面勾选的列表显示字段")])]),s._v(" "),a("tr",[a("td",[s._v("list.withoutField")]),s._v(" "),a("td",[s._v("update_time,delete_time")]),s._v(" "),a("td",[s._v("列表显示排除的字段")])]),s._v(" "),a("tr",[a("td",[s._v("detail.field")]),s._v(" "),a("td",[s._v("id,name,age,sex")]),s._v(" "),a("td",[s._v("页面勾选的明细显示字段")])]),s._v(" "),a("tr",[a("td",[s._v("detail.withoutField")]),s._v(" "),a("td",[s._v("update_time,delete_time")]),s._v(" "),a("td",[s._v("明细显示排除的字段")])]),s._v(" "),a("tr",[a("td",[s._v("add.field")]),s._v(" "),a("td",[s._v("name,age,sex")]),s._v(" "),a("td",[s._v("页面勾选的新增字段")])]),s._v(" "),a("tr",[a("td",[s._v("add.withoutField")]),s._v(" "),a("td",[s._v("id,update_time,delete_time")]),s._v(" "),a("td",[s._v("新增提交排除的字段")])]),s._v(" "),a("tr",[a("td",[s._v("edit.field")]),s._v(" "),a("td",[s._v("id,name,age,sex")]),s._v(" "),a("td",[s._v("页面勾选的编辑显示字段")])]),s._v(" "),a("tr",[a("td",[s._v("edit.withoutField")]),s._v(" "),a("td",[s._v("update_time,delete_time")]),s._v(" "),a("td",[s._v("编辑显示排除的字段")])]),s._v(" "),a("tr",[a("td",[s._v("query.annotation")]),s._v(" "),a("td",[s._v('@Apidoc\\Param("name",type="string",desc="姓名")')]),s._v(" "),a("td",[s._v("根据页面勾选查询的字段生成的注释")])]),s._v(" "),a("tr",[a("td",[s._v("query.where")]),s._v(" "),a("td",[s._v("$where=[]; if(!empty($param['name'])){ $where[] = ['name','=',$param['name']]; }")]),s._v(" "),a("td",[s._v("根据页面勾选的查询字段生成的查询条件")])]),s._v(" "),a("tr",[a("td",[s._v("api_class_name")]),s._v(" "),a("td",[s._v("testCrud")]),s._v(" "),a("td",[s._v("api的url所用的控制器名称（其实就是小写开头的控制器名）")])]),s._v(" "),a("tr",[a("td",[s._v("api_group")]),s._v(" "),a("td",[s._v("app\\admin\\controller\\TestCrud")]),s._v(" "),a("td",[s._v("控制器分组所选的分组name")])]),s._v(" "),a("tr",[a("td",[s._v("api_url")]),s._v(" "),a("td",[s._v("/admin/testCrud")]),s._v(" "),a("td",[s._v("控制器api访问的url")])]),s._v(" "),a("tr",[a("td",[s._v("main_key.field")]),s._v(" "),a("td",[s._v("id")]),s._v(" "),a("td",[s._v("页面配置的数据表主键的字段名")])]),s._v(" "),a("tr",[a("td",[s._v("main_key.type")]),s._v(" "),a("td",[s._v("int")]),s._v(" "),a("td",[s._v("页面配置的数据表主键的字段类型")])]),s._v(" "),a("tr",[a("td",[s._v("main_key.desc")]),s._v(" "),a("td",[s._v("唯一id")]),s._v(" "),a("td",[s._v("页面配置的数据表主键的字段说明注释")])]),s._v(" "),a("tr",[a("td",[s._v("model.class_name")]),s._v(" "),a("td",[s._v("TestCrud")]),s._v(" "),a("td",[s._v("页面填入的模型文件名")])]),s._v(" "),a("tr",[a("td",[s._v("model.namespace")]),s._v(" "),a("td",[s._v("app\\model")]),s._v(" "),a("td",[s._v("模型命名空间")])]),s._v(" "),a("tr",[a("td",[s._v("model.use_alias")]),s._v(" "),a("td",[s._v("TestCrudModel")]),s._v(" "),a("td",[s._v("模型别名")])]),s._v(" "),a("tr",[a("td",[s._v("model.use_path")]),s._v(" "),a("td",[s._v("app\\model\\TestCrud")]),s._v(" "),a("td",[s._v("模型use地址")])]),s._v(" "),a("tr",[a("td",[s._v("validate.class_name")]),s._v(" "),a("td",[s._v("TestCrud")]),s._v(" "),a("td",[s._v("页面填入的验证器文件名")])]),s._v(" "),a("tr",[a("td",[s._v("validate.namespace")]),s._v(" "),a("td",[s._v("app\\admin\\validate")]),s._v(" "),a("td",[s._v("验证器命名空间")])]),s._v(" "),a("tr",[a("td",[s._v("validate.use_alias")]),s._v(" "),a("td",[s._v("TestCrudValidate")]),s._v(" "),a("td",[s._v("验证器别名")])]),s._v(" "),a("tr",[a("td",[s._v("validate.use_path")]),s._v(" "),a("td",[s._v("app\\admin\\validate\\TestCrud")]),s._v(" "),a("td",[s._v("验证器use地址")])]),s._v(" "),a("tr",[a("td",[s._v("validate.rule")]),s._v(" "),a("td",[s._v("[ 'id' => 'require','name'=>'require']")]),s._v(" "),a("td",[s._v("页面字段配置验证的验证规则")])]),s._v(" "),a("tr",[a("td",[s._v("validate.message")]),s._v(" "),a("td",[s._v("['id' =>'id不可为空','name'=>'name不可为空']")]),s._v(" "),a("td",[s._v("验证规则的提示内容")])]),s._v(" "),a("tr",[a("td",[s._v("validate.scene.add")]),s._v(" "),a("td",[s._v('["name","sex","age"]')]),s._v(" "),a("td",[s._v("新增场景验证的字段")])]),s._v(" "),a("tr",[a("td",[s._v("validate.scene.edit")]),s._v(" "),a("td",[s._v('["id","name","sex","age"]')]),s._v(" "),a("td",[s._v("编辑场景验证的字段")])]),s._v(" "),a("tr",[a("td",[s._v("validate.scene.delete")]),s._v(" "),a("td",[s._v('["id"]')]),s._v(" "),a("td",[s._v("删除场景验证的字段")])]),s._v(" "),a("tr",[a("td",[s._v("service.class_name")]),s._v(" "),a("td",[s._v("TestCrud")]),s._v(" "),a("td",[s._v("页面填入的逻辑层（自定义的）文件名")])]),s._v(" "),a("tr",[a("td",[s._v("service.namespace")]),s._v(" "),a("td",[s._v("app\\admin\\service")]),s._v(" "),a("td",[s._v("逻辑层（自定义的）命名空间")])]),s._v(" "),a("tr",[a("td",[s._v("service.use_alias")]),s._v(" "),a("td",[s._v("TestCrudservice")]),s._v(" "),a("td",[s._v("逻辑层（自定义的）别名")])]),s._v(" "),a("tr",[a("td",[s._v("service.use_path")]),s._v(" "),a("td",[s._v("app\\admin\\service\\TestCrud")]),s._v(" "),a("td",[s._v("逻辑层（自定义的）use地址")])])])]),s._v(" "),a("h4",{attrs:{id:"自定义文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义文件"}},[s._v("#")]),s._v(" 自定义文件")]),s._v(" "),a("p",[s._v("如果你的项目需要更多层文件来实现Crud，你只需要在配置文件"),a("code",[s._v("config/apidoc.php")]),s._v("的"),a("code",[s._v("crud")]),s._v("配置项中加入你的配置，如下")]),s._v(" "),a("div",{staticClass:"language-php line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// /config/apidoc.php")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'crud'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 自定义的文件生成配置，你也可以像这样添加更多配置项，来生成你所需的文件")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'myTest'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'path'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'app\\${app[0].folder}\\myTest'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'template'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[s._v("'../template/myTest'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//...")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("加入配置后，页面将会多出一个myTest的文件名输入项，并在创建Crud时根据此配置的模板生成文件。同时模板变量里也会多出以下几个变量")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("变量名")]),s._v(" "),a("th",[s._v("示例值")]),s._v(" "),a("th",[s._v("说明")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("myTest.class_name")]),s._v(" "),a("td",[s._v("TestCrud")]),s._v(" "),a("td",[s._v("页面填入的自定义的文件名")])]),s._v(" "),a("tr",[a("td",[s._v("myTest.namespace")]),s._v(" "),a("td",[s._v("app\\admin\\myTest")]),s._v(" "),a("td",[s._v("自定义文件的命名空间")])]),s._v(" "),a("tr",[a("td",[s._v("myTest.use_alias")]),s._v(" "),a("td",[s._v("TestCrudmyTest")]),s._v(" "),a("td",[s._v("自定义文件的别名")])]),s._v(" "),a("tr",[a("td",[s._v("myTest.use_path")]),s._v(" "),a("td",[s._v("app\\admin\\myTest\\TestCrud")]),s._v(" "),a("td",[s._v("自定义文件的use地址")])])])])])}),[],!1,null,null,null);t.default=e.exports}}]);